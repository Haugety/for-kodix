!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.r(t);var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl="https://rawgit.com/Varinetz/e6cbadec972e76a340c41a65fcc2a6b3/raw/90191826a3bac2ff0761040ed1d95c59f14eaf26/frontend_test_table.json"}var t,i,n;return t=e,(i=[{key:"getInfo",value:function(){return fetch(this._baseUrl).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}}])&&r(t.prototype,i),n&&r(t,n),e}();function o(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,i){var r,n,o,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){s._item.remove(),s._item=null},(n="_deleteItem")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._templateSelector=t,this._data=i,this._id=i.id,this._title=i.title,this._description=i.description,this._year=i.year,this._color=i.color,this._status=i.status,this._price=i.price}var t,i,r;return t=e,(i=[{key:"_createItem",value:function(){var e=this;return this._itemTemplate=document.querySelector("".concat(this._templateSelector)).content,this._item=this._itemTemplate.querySelector(".table__item-row").cloneNode(!0),this._itemTitle=this._item.querySelector(".table__item_name"),this._itemDescription=this._item.querySelector(".table__item_description"),this._itemYear=this._item.querySelector(".table__item_year"),this._itemColor=this._item.querySelector(".table__color-box"),this._itemStatus=this._item.querySelector(".table__item_status"),this._itemPrice=this._item.querySelector(".table__item_price"),this._item.setAttribute("data-id",this._id),this._itemTitle.textContent=this._title,this._itemDescription.textContent=this._description,this._itemYear.textContent=this._year,this._itemColor.setAttribute("name",this._color),this._itemStatus.textContent=this._itemStatusHandler(),this._itemPrice.textContent=this._itemPriceHandler(),this._item.querySelector(".table__item_remove").addEventListener("click",(function(){return e._deleteItem()})),this._item}},{key:"_itemPriceHandler",value:function(){return"number"==typeof this._price?"".concat(this._price.toLocaleString()," руб."):"".concat(Number(this._price.replace(/\s+/g,"")).toLocaleString()," руб.")}},{key:"_itemStatusHandler",value:function(){return"pednding"===this._status||"pending"===this._status?"Ожидается":"out_of_stock"===this._status?"Нет в наличии":"В наличии"}},{key:"returnItem",value:function(){return this._createItem()}}])&&o(t.prototype,i),r&&o(t,r),e}();function c(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,i){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._containerSelector=i}var t,i,r;return t=e,(i=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){t.addItem(t._renderer(e))}))}},{key:"addItem",value:function(e){this._containerSelector.prepend(e)}}])&&c(t.prototype,i),r&&c(t,r),e}();function l(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=document.querySelector(".form"),this._inputList=this._form.querySelectorAll(".form__input"),this._colorField=this._form.querySelector(".radio-list"),this._radioList=this._colorField.querySelectorAll(".radio-list__button"),this._selection=this._form.querySelector(".selection"),this._selectionTitle=this._selection.querySelector(".selection__title"),this._selectionLabels=this._selection.querySelectorAll(".selection__label"),this._statusField=this._selection.querySelector(".selection__list"),this._statusList=this._statusField.querySelectorAll(".selection__input"),this._submitButton=this._form.querySelector(".submit-button"),this._formSubmit=t}var t,i,r;return t=e,(i=[{key:"_getValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._radioList.forEach((function(t){t.checked&&(e._formValues[t.name]=t.value)})),this._statusList.forEach((function(t){t.checked&&"Select0"!==t.id&&(e._formValues[t.name]=t.value)})),this._formValues}},{key:"setEventListener",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._getValues()),e._form.reset(),e._selectionTitle.textContent=e._selectionTitle.getAttribute("data-default")})),this._selectionTitle.addEventListener("click",(function(){e._selection.classList.contains("selection_active")?e._selection.classList.remove("selection_active"):e._selection.classList.add("selection_active")}));for(var t=0;t<this._selectionLabels.length;t++)this._selectionLabels[t].addEventListener("click",(function(t){e._selectionTitle.textContent=t.target.textContent,e._selection.classList.remove("selection_active")}))}}])&&l(t.prototype,i),r&&l(t,r),e}();function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m=new n;new u((function(e){var t=function(){var e=b.querySelectorAll(".table__item-row"),t=[],i=1;e.forEach((function(e){t.push(Number(e.getAttribute("data-id")))}));return function e(){t.includes(i)&&(i+=1,e())}(),i}(),i=f(f({},e),{},{id:t});d.addItem(p(i))})).setEventListener();var b=document.querySelector(".table__items-list"),d=new a({renderer:function(e){return p(e)}},document.querySelector(".table__items-list"));function p(e){return new s("#tableItemTemplate",e).returnItem()}m.getInfo().then((function(e){d.renderItems(e)}))}]);